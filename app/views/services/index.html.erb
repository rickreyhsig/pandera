<h1><%= t('listing_services') %></h1>

<%= form_tag services_path, :method => 'get', :id => "services_search" do %>
  <%= hidden_field_tag :direction, params[:direction] %>
  <%= hidden_field_tag :sort, params[:sort] %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil, class: "btn btn-default", style: "padding: 3px 2px 1px 2px;" %>
  </p>
<% end %>

<div class="table-responsive">
    <table id="services_table" class="table table-striped table-bordered table-hover table-condensed table-responsive">
      <thead>
        <tr>
          <th>Client</th>
          <th>Date</th>
          <th>Description</th>
          <th>Price</th>
          <th>Maturity</th>
          <th>Invoice</th>
          <th>Paid</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @services.each do |service| %>
          <tr>
            <td><%= link_to Client.find(service.client_id).name, Client.find(service.client_id) %></td>
            <td><%= service.date %></td>
            <td><%= service.description %></td>
            <td><%= service.price %></td>
            <td><%= service.maturity %></td>
            <td><%= service.invoice.invoice_number if service.invoice %></td>
            <td><%= service.paid ? 'Yes' : 'No' %></td>
            <td><%= link_to 'Details', service %></td>
            <td><%= link_to 'Edit', edit_service_path(service) %></td>
            <td><%= link_to 'Delete', service, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
</div>

<br>

<%= will_paginate @services %> </br>
<br/>
